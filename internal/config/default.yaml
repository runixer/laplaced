# Log configuration
log:
  level: "info"

# Server Configuration
server:
  listen_port: "9081"
  debug_mode: false
  auth:
    enabled: true
    username: "admin"
    password: ""

# Telegram Bot Configuration
telegram:
  token: ""
  webhook_url: ""
  proxy_url: ""

# OpenRouter API Configuration
openrouter:
  api_key: ""
  proxy_url: ""
  pdf_parser_engine: "native"
  request_cost: 0.0
  price_tiers:
    - up_to_tokens: 200000
      prompt_cost: 1.25
      completion_cost: 10.0
    - up_to_tokens: 1048576
      prompt_cost: 2.50
      completion_cost: 15.0

# Agents Configuration
agents:
  # Default model for all agents (used when agent's model is not specified)
  default:
    name: "Agent"
    model: "google/gemini-3-flash-preview"

  # Main bot - talks to users
  chat:
    name: "Laplaced"
    model: "google/gemini-3-pro-preview"

  # Archivist - extracts facts and people from conversations
  archivist:
    name: "Archivist"
    # model: uses default
    thinking_level: "high"  # High reasoning for better fact/people extraction quality
    timeout: "120s"           # Longer timeout for multi-turn
    max_tool_calls: 2         # Usually 0-1, max 2 for complex sessions

  # Enricher - expands search queries for RAG
  enricher:
    name: "Enricher"
    # model: uses default

  # Reranker - filters and ranks RAG candidates
  reranker:
    name: "Reranker"
    # model: uses default
    enabled: true
    candidates: 50
    max_topics: 5
    max_people: 10
    timeout: "60s"
    turn_timeout: "30s"
    max_tool_calls: 3
    thinking_level: "minimal"

  # Splitter - splits large topics into smaller ones
  splitter:
    name: "Splitter"
    # model: uses default

  # Merger - merges similar topics
  merger:
    name: "Merger"
    # model: uses default

# Embedding Configuration
embedding:
  model: "google/gemini-embedding-001"

# RAG Configuration
rag:
  enabled: true
  max_context_messages: 50
  max_profile_facts: 50
  retrieved_messages_count: 20
  retrieved_topics_count: 5
  similarity_threshold: 0.5
  consolidation_similarity_threshold: 0.8
  min_safety_threshold: 0.3
  max_chunk_size: 400
  backfill_batch_size: 20
  backfill_interval: "1s"
  chunk_interval: "1h"
  split_threshold_chars: 25000
  recent_topics_in_context: 3

# Tools Configuration
tools:
  - name: "internet_search"
    model: "perplexity/sonar-pro"
  - name: "search_history"
    model: "memory"
  - name: "manage_memory"
    model: "memory"
  - name: "search_people"
    model: "memory"
  - name: "manage_people"
    model: "memory"

# Bot Configuration
bot:
  language: "en"
  turn_wait_duration: "2s"

# Database Configuration
database:
  path: "data/laplaced.db"

# Yandex Cloud SpeechKit Configuration (Optional)
yandex:
  enabled: false
  api_key: ""
  folder_id: ""
  language: "ru-RU"
